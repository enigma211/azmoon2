# راهنمای تنظیمات کاربر - نسخه 5 (تم تاریک کامل)

## ⚠️ مشکل‌های قبلی و راه‌حل:
1. CSS classes در موبایل کار نمی‌کردند → از **inline styles** استفاده کردیم
2. تنظیمات در صفحات دیگر ریست می‌شدند → JavaScript را به layout اصلی اضافه کردیم
3. در تم تاریک، باکس‌ها تاریک می‌شدند و متن‌ها نامشخص بودند → **فقط background اصلی تاریک می‌شود**
4. در صفحه آزمون، متن سوالات نامشخص بود → **متن‌ها در تم تاریک سفید می‌شوند**

## تغییرات نسخه 5:

### 1. فایل‌های تغییر یافته:
- `app/Livewire/Profile/UserSettings.php` - استفاده از inline styles
- `resources/views/layouts/app.blade.php` - اضافه کردن JavaScript به layout اصلی (خانه، آزمون‌ها و...)
- `resources/views/livewire/layout/app.blade.php` - JavaScript با inline styles
- `resources/views/livewire/profile/user-settings.blade.php` - حذف بخش debug

### 2. نحوه کار تم تاریک:
- **Background اصلی صفحه** تاریک می‌شود (#1f2937)
- **باکس‌ها و کارت‌ها سفید می‌مانند** - در صفحات عادی
- **در صفحه آزمون:** متن سوالات، پاسخ‌ها و توضیحات سفید می‌شوند (#f3f4f6)
- **متن‌های خاکستری** روشن‌تر می‌شوند (#d1d5db) برای خوانایی بهتر
- تنظیمات در localStorage و دیتابیس ذخیره می‌شوند

### 3. دستورات اجرا روی سرور:

```bash
cd /var/www/azmoonkade.com
git pull origin main
php artisan view:clear
php artisan cache:clear
php artisan config:clear
php artisan optimize
```

### 4. تست:
1. وارد پروفایل شوید
2. روی هر کدام از دکمه‌های فونت کلیک کنید - همه باید کار کنند
3. روی دکمه تم تاریک کلیک کنید
4. **تست صفحات عادی:** به خانه یا آزمون‌ها بروید - background تاریک، باکس‌ها سفید
5. **تست صفحه آزمون:** یک آزمون را شروع کنید - متن سوالات و پاسخ‌ها باید سفید و خوانا باشند
6. رفرش کنید - تنظیمات باید حفظ شوند

### 5. تغییرات این نسخه:
✅ تنظیمات در **همه صفحات** اعمال می‌شود (خانه، آزمون‌ها، منابع، پروفایل، batches)
✅ بعد از navigation با Livewire، تنظیمات حفظ می‌شود
✅ همه 4 سایز فونت کار می‌کند
✅ **تم تاریک هوشمند:** 
   - صفحات عادی: background تاریک، باکس‌ها سفید
   - صفحه آزمون: background تاریک، متن‌ها سفید و خوانا
✅ متن سوالات، پاسخ‌ها و توضیحات در آزمون کاملاً خوانا هستند

### 6. اگر باز هم مشکلی بود:
1. Cache مرورگر را کاملاً پاک کنید (Settings → Privacy → Clear browsing data)
2. یا از حالت Incognito استفاده کنید
3. Console مرورگر را باز کنید و خطا را بفرستید
